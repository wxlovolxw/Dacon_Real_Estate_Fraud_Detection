# Dacon Real Estate Fraud Detection

Dacon 부동산 허위매물 예측 대회에 참여하여 진행한 데이터 분석 프로젝트입니다.  
EDA, 피처 엔지니어링, 모델링, 해석까지 실무 흐름에 맞춰 전 과정을 체계적으로 수행했습니다.

---

## 폴더 구성  
---
### notebooks/  
- `main_analysis.ipynb`: 전체 분석 흐름이 담긴 메인 노트북입니다.

### images/  
- SHAP summary, confusion matrix 등 시각화 결과 이미지 저장 폴더입니다.

###  docs/
- 분석 과정 정리 파일을 보관한 폴더입니다.

---

## 분석 개요  
---
- **목표**: 허위 부동산 매물 여부 예측  
- **데이터셋**: Dacon 제공 매물 데이터  
- **타겟 변수**: `허위매물여부`  
- **성능 지표**: F1 Score, Precision, Recall  
- **최종 모델**: LightGBM (F1 Score 0.8614)

---

## 결측치 처리  
---
- 총 6개 피처에서 결측 발생: `전용면적`, `해당층`, `총층`, `방수`, `욕실수`, `총주차대수`  
- `총층`, `방수`, `욕실수`: 결측률이 낮아 최빈값으로 보간  
- `해당층`, `총주차대수`: 조건부 결측으로 판단되어 RandomForestRegressor로 보간  
- `전용면적`: 범주 기반 중앙값으로 그룹 보간  
- 결측 여부가 타겟과 관련 있는 경우 → 결측 여부를 파생 변수로 생성

---

## 이상치 처리 및 변수 변환  
---
- 군집 형태 불명확 → 분포 기반의 IQR 방식으로 이상치 제거  
- 왜도가 큰 변수들 변환 적용:  
  - `보증금`, `관리비`: 로그 변환  
  - `총층`, `해당층`, `총주차대수`: Box-Cox 변환  
- KDE 플랏과 왜도 지표로 분포 개선 확인

---

## 파생 변수 생성 및 재범주화  
---
- `게재일`: 날짜 분해(year, month, day), 정책 기준 구간화(`게재일_정책구간`)  
- `중개사무소`: 상위 5개는 유지 (`top5`), 나머지는 기타 처리 또는 빈도 기반 그룹화  
- `방향`: 사인/코사인 변환(`방향_sin`, `방향_cos`)  
- 타겟과 무관하거나 독립적인 변수는 제거

---

## 피처 조합 실험  
---
- `방향`, `중개사무소`, `게재일` 파생 피처 조합 실험  
- LightGBM 기준 성능 비교  
→ `방향=원본`, `중개사무소=빈도기반`, `게재일=년월` 조합이 가장 뛰어나 최종 선택

---

## ⚖클래스 불균형 처리  
---
- 소수 클래스 비중이 매우 낮아 불균형 심각  
- 적용 기법:  
  - Borderline-SMOTE ( O )
  - SMOTETomek  
  - Isolation Forest (이상치 기반)  
- F1 기준으로 Borderline-SMOTE가 가장 우수하여 최종 선택

---

## 🤖 모델링 및 비교  
---
- 실험한 모델들:  
  - LightGBM ( O )  
  - XGBoost  
  - CatBoost  
  - RandomForest  
  - LogisticRegression  
- Optuna를 사용해 각 모델에 대해 5-Fold 교차검증 기반 하이퍼파라미터 튜닝 수행  
- LightGBM 모델에서 F1 Score 0.8614 달성 → 최종 선택

---

## 모델 해석 및 Feature Elimination  
---
- SHAP 값을 통해 피처 중요도 시각화  
- SHAP 기반 RFE 방식 적용 → 가장 영향력 낮은 피처부터 제거  
→ `해당층_결측여부`, `총주차대수_결측여부`, `전용면적_결측여부` 제거 후 성능 유지 또는 향상

---

## Threshold 튜닝  
---
- 0.1부터 0.9까지 threshold 변경하여 정밀도-재현율-F1 변화 관찰  
- F1 기준으로 threshold=0.35에서 최고 성능  
- 모델 안정성을 우선할 경우 threshold=0.2도 대안으로 고려 가능

---

## 결과 요약  
---
- 전처리 → 파생 변수 → 조합 실험 → 모델 비교 → SHAP 해석 → Threshold 튜닝까지  
- 성능뿐만 아니라 분석 흐름과 해석 가능성을 함께 고려한 프로젝트  
- 실무 흐름에 기반한 전체 분석 사이클을 경험하고 체화한 결과물입니다.